Простая реализация паттерна Сервис Локатор.
В нем будет реализована работа с контекстом и кэшем.

Возвращаем из кэша нужный сервис.
Если в кэше нет нужного сервиса то:
1) Создаем контекст.
2) Возьмем у контекста нужный сервис.
3) Добавим сервис в кеш и верни его.

